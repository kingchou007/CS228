var oneFrameOfData = nj.array([[[ 500.88722, 224.85202,   206.673, 500.88722, 224.85202,   206.673],
    [ 574.40664, 285.67549,    185.25, 500.88722, 224.85202,   206.673],
    [ 608.91692, 328.52759,   168.199, 574.40664, 285.67549,    185.25],
    [ 627.91419, 358.05864,   155.907, 608.91692, 328.52759,   168.199]],
    [[    464.27, 361.05646,   194.608, 472.98639, 248.60906,   221.161],
        [ 467.10681, 424.59974,   176.876,    464.27, 361.05646,   194.608],
        [ 468.43352, 458.67223,    165.45, 467.10681, 424.59974,   176.876],
        [ 469.21718, 481.71384,   156.602, 468.43352, 458.67223,    165.45]],
    [[ 398.33445, 355.64211,   198.296, 435.80424, 250.35487,   222.864],
        [ 370.44408, 428.32271,    181.51, 398.33445, 355.64211,   198.296],
        [ 355.34776, 468.81077,   169.093, 370.44408, 428.32271,    181.51],
        [ 346.18621, 494.04533,    159.63, 355.34776, 468.81077,   169.093]],
    [[ 336.59909,  338.8411,   201.679, 398.36566, 247.84503,   222.812],
        [ 278.68063, 400.43443,   186.655, 336.59909,  338.8411,   201.679],
        [ 245.05693, 436.32856,   174.639, 278.68063, 400.43443,   186.655],
        [  223.8801, 459.01634,   165.163, 245.05693, 436.32856,   174.639]],
    [[ 282.88231, 318.06827,   201.644,  362.9844, 237.05521,   218.178],
        [ 198.43349, 348.67636,   190.594, 282.88231, 318.06827,   201.644],
        [ 154.80492, 364.46643,   182.263, 198.43349, 348.67636,   190.594],
        [ 119.11691, 377.36366,   173.465, 154.80492, 364.46643,   182.263]]]);

var anotherFrameOfData = nj.array([[[ 477.20307, 287.25605,   257.731, 477.20307, 287.25605,   257.731],
    [ 557.27686, 294.35011,   221.065, 477.20307, 287.25605,   257.731],
    [ 582.96319, 289.22155,   192.571, 557.27686, 294.35011,   221.065],
    [ 580.58397,  279.8276,   172.906, 582.96319, 289.22155,   192.571]],
    [[ 457.87798, 326.56015,   189.013, 440.40187, 320.09403,   252.426],
        [  467.1638, 338.98496,   152.466, 457.87798, 326.56015,   189.013],
        [ 474.86207, 336.17767,   131.704,  467.1638, 338.98496,   152.466],
        [ 481.51652, 328.50815,   117.572, 474.86207, 336.17767,   131.704]],
    [[ 390.40205, 324.01336,    190.83, 402.89466, 320.24567,   251.096],
        [ 385.54927,  352.3274,   151.749, 390.40205, 324.01336,    190.83],
        [ 388.11999, 360.19716,   127.477, 385.54927,  352.3274,   151.749],
        [ 392.92384,  360.0844,   111.265, 388.11999, 360.19716,   127.477]],
    [[ 326.63713, 316.06778,   197.842, 366.21723, 315.43594,   250.909],
        [ 290.29553, 340.08533,   162.649, 326.63713, 316.06778,   197.842],
        [ 272.81786, 347.30965,   139.474, 290.29553, 340.08533,   162.649],
        [ 264.38259, 347.46323,   123.475, 272.81786, 347.30965,   139.474]],
    [[ 273.04624, 301.27115,   205.413, 334.52556,  299.2415,   252.513],
        [ 203.19301, 303.73434,   182.015, 273.04624, 301.27115,   205.413],
        [ 168.78982,  300.3302,   168.248, 203.19301, 303.73434,   182.015],
        [ 142.33394, 293.81354,   155.766, 168.78982,  300.3302,   168.248]]]);

var xStart = 0, yStart = 0, zStart = 0;
var xEnd = 0, yEnd = 0, zEnd = 0;
var frameIndex = 0, flipFlop = 0;

function draw() {
    clear();
    if (flipFlop == 0) {
        for (var i = 0; i < oneFrameOfData.shape[0]; i++) {
            for (var j = 0; j < oneFrameOfData.shape[1]; j++) {
                xStart = oneFrameOfData.get(i, j, 3);
                yStart = oneFrameOfData.get(i, j, 4);
                zStart = oneFrameOfData.get(i, j, 5);
                xEnd = oneFrameOfData.get(i, j, 0);
                yEnd = oneFrameOfData.get(i, j, 1);
                zEnd = oneFrameOfData.get(i, j, 2);
                line(xStart, window.innerHeight - yStart, xEnd, window.innerHeight - yEnd);
            }
        }
    } else {
        for (var i = 0; i < anotherFrameOfData.shape[0]; i++) {
            for (var j = 0; j < anotherFrameOfData.shape[1]; j++) {
                xStart = anotherFrameOfData.get(i, j, 3);
                yStart = anotherFrameOfData.get(i, j, 4);
                zStart = anotherFrameOfData.get(i, j, 5);
                xEnd = anotherFrameOfData.get(i, j, 0);
                yEnd = anotherFrameOfData.get(i, j, 1);
                zEnd = anotherFrameOfData.get(i, j, 2);
                line(xStart, window.innerHeight - yStart, xEnd, window.innerHeight - yEnd);
            }
        }
    }
    frameIndex++;

    if (frameIndex >= 100) {
        frameIndex = 0;
        if (flipFlop == 1) {
            flipFlop = 0;
        } else {
            flipFlop = 1;
        }
    }
}



